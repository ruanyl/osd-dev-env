replicaCount: 1
image:
  repository: "opensearchproject/opensearch-dashboards"
  tag: "3.3.0"

config:
  # Default OpenSearch Dashboards configuration from docker image of Dashboards
  opensearch_dashboards.yml:
    csp.rules:
    - connect-src 'self' www.google-analytics.com vectors.maps.opensearch.org tiles.maps.opensearch.org
      maps.opensearch.org;
    csp.warnLegacyBrowsers: false
    data_source.enabled: true
    opensearch.hosts:
    - https://localhost:9200
    opensearch.password: <secret:/app/data/demo/internal_users~kibanaserver>
    opensearch.requestHeadersWhitelist:
    - authorization
    - securitytenant
    opensearch.ssl.verificationMode: none
    opensearch.username: kibanaserver
    opensearch_security.auth.anonymous_auth_enabled: false
    opensearch_security.cookie.secure: false
    opensearch_security.cookie.ttl: 86400000
    opensearch_security.multitenancy.enabled: false
    opensearch_security.multitenancy.tenants.preferred:
    - Global
    - Private
    opensearch_security.readonly_mode.roles:
    - kibana_read_only
    opensearch_security.session.keepalive: true
    opensearch_security.session.ttl: 86400000
    opensearchDashboards.branding.useExpandedHeader: false
    server.host: 0.0.0.0
    opensearch_security.auth.anonymous_auth_enabled: true

plugins:
  enabled: true
  removeList:
    - flowFrameworkDashboards
  installList:
    - https://github.com/ohltyler/dashboards-flow-framework/releases/download/demo-11-13/dashboards-flow-framework-3.3.0.0.zip

ingress:
  annotations:
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS": 443}]'
    alb.ingress.kubernetes.io/ssl-redirect: "443"
    alb.ingress.kubernetes.io/ssl-policy: ELBSecurityPolicy-TLS13-1-3-2021-06
  hosts:
    - host: ml.playground.opensearch.org
      paths:
        - path: /
          backend: {}
