replicas: 2

image:
  repository: "opensearchstaging/opensearch"
  tag: "3.4.0"
  pullPolicy: "Always"

config:
  opensearch.yml:
    opensearch.experimental.feature.transport.stream.enabled: true
    http.type: reactor-netty4
    plugins:
      security:
        system_indices.enabled: false
      ml_commons:
        agent_framework_enabled: true
        index_insight_feature_enabled: true
        stream_enabled: true
        ag_ui_enabled: true

opensearchJavaOpts: "-Xms8g -Xmx8g -Dio.netty.allocator.numDirectArenas=1 -Dio.netty.noUnsafe=false -Dio.netty.tryUnsafe=true -Dio.netty.tryReflectionSetAccessible=true -Dopensearch.performanceanalyzer.enabled=false"

plugins:
  enabled: true
  removeList:
    - opensearch-skills
    - opensearch-ml
  installList:
    - https://github.com/PauiC/ml-commons/releases/download/3.4.0/opensearch-ml-3.4.0.0-SNAPSHOT.zip
    - https://github.com/PauiC/skills/releases/download/3.4.0/opensearch-skills-3.4.0.0-SNAPSHOT.zip
    - https://github.com/PauiC/OpenSearch/releases/download/3.4.0/transport-reactor-netty4-3.4.0-SNAPSHOT.zip
    - https://github.com/PauiC/OpenSearch/releases/download/3.4.0/arrow-flight-rpc-3.4.0-SNAPSHOT.zip